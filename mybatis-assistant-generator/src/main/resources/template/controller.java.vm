package ${package.parent}#if($package.module!='').${package.module}#end.${package.controller};

import cool.doudou.celery.upms.service.${instance.serviceClass};
import io.swagger.annotations.Api;
import io.swagger.annotations.ApiOperation;
import org.springframework.web.bind.annotation.*;
import cool.doudou.mybatis.assistant.core.page.PageDTO;
import cool.doudou.mybatis.assistant.core.page.PageInfo;
import lombok.AllArgsConstructor;
import ${package.parent}#if($package.module!='').${package.module}#end.${package.entity}.${instance.entityClass};

/**
 * $!{tableComment} 控制器
 *
 * @author ${author}
 * @since ${date}
 */
@Api(tags = "${tableComment}")
@AllArgsConstructor
@RequestMapping("/v1/${tableName.replaceAll("_", "-")}")
@RestController
public class ${instance.controllerClass} {
    private ${instance.serviceClass} ${instance.service};

    @ApiOperation(value = "分页查询", notes = "")
    @PostMapping("/page")
    public PageInfo<${instance.entityClass}> getPage(PageDTO<${instance.entityClass}> pageDTO) {
        return ${instance.service}.page(pageDTO.page(), pageDTO.data());
    }

    @ApiOperation(value = "根据 id 查询记录", notes = "")
    @GetMapping("/get")
    public ${instance.entityClass} get(@RequestParam Long id) {
        return ${instance.service}.get(id);
    }

    @ApiOperation(value = "添加记录", notes = "")
    @PostMapping("/add")
    public int add(${instance.entityClass} ${instance.entity}) {
        return ${instance.service}.add(${instance.entity});
    }

    @ApiOperation(value = "修改记录", notes = "")
    @PostMapping("/modify")
    public int modify(${instance.entityClass} ${instance.entity}) {
        return ${instance.service}.modify(${instance.entity});
    }

    @ApiOperation(value = "根据 ids 删除记录", notes = "")
    @PostMapping("/delete")
    public int delete(String ids) {
        return ${instance.service}.delete(ids);
    }
}